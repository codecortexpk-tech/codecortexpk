  <!-- Form Handling Script -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('contactForm');
      const formMessage = document.getElementById('formMessage');
      const submitBtn = document.getElementById('submitBtn');
      
      // Set reply-to field to match email field
      const emailField = document.getElementById('email');
      const replyToField = document.getElementById('replyTo');
      
      emailField.addEventListener('input', function() {
        replyToField.value = emailField.value;
      });
      
      // Form validation
      function validateForm() {
        let isValid = true;
        const name = document.getElementById('name');
        const email = document.getElementById('email');
        const service = document.getElementById('service');
        const message = document.getElementById('message');
        
        // Reset error states
        document.querySelectorAll('.error-message').forEach(el => el.textContent = '');
        document.querySelectorAll('input, textarea, select').forEach(el => el.classList.remove('error'));
        
        // Name validation
        if (!name.value.trim()) {
          document.getElementById('nameError').textContent = 'Name is required';
          name.classList.add('error');
          isValid = false;
        }
        
        // Email validation
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!email.value.trim()) {
          document.getElementById('emailError').textContent = 'Email is required';
          email.classList.add('error');
          isValid = false;
        } else if (!emailRegex.test(email.value)) {
          document.getElementById('emailError').textContent = 'Please enter a valid email address';
          email.classList.add('error');
          isValid = false;
        }
        
        // Service validation
        if (!service.value) {
          document.getElementById('serviceError').textContent = 'Please select a service';
          service.classList.add('error');
          isValid = false;
        }
        
        // Message validation
        if (!message.value.trim()) {
          document.getElementById('messageError').textContent = 'Message is required';
          message.classList.add('error');
          isValid = false;
        } else if (message.value.trim().length < 10) {
          document.getElementById('messageError').textContent = 'Message should be at least 10 characters';
          message.classList.add('error');
          isValid = false;
        }
        
        return isValid;
      }
      
      // Form submission
      form.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        if (!validateForm()) {
          formMessage.textContent = "Please fix the errors above";
          formMessage.className = "error";
          return;
        }
        
        submitBtn.disabled = true;
        formMessage.textContent = "Sending...";
        formMessage.className = "info";
        
        try {
          const response = await fetch(form.action, {
            method: form.method,
            body: new FormData(form),
            headers: { 'Accept': 'application/json' }
          });

          if (response.ok) {
            formMessage.textContent = "✅ Thank you! Your message has been sent successfully. We'll get back to you soon.";
            formMessage.className = "success";
            form.reset();
          } else {
            const errorData = await response.json();
            formMessage.textContent = "⚠️ Something went wrong. Please try again or contact us directly.";
            formMessage.className = "error";
            console.error('Formspree error:', errorData);
          }
        } catch (error) {
          formMessage.textContent = "🚫 Network error. Please check your connection and try again.";
          formMessage.className = "error";
          console.error('Submission error:', error);
        } finally {
          submitBtn.disabled = false;
        }
      });
    });
  </script>

</body>
</html>
